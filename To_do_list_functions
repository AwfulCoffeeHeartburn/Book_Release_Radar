import os
import time

PATH_TO_TODO_LIST = 'C:/Users/Stanl/PycharmProjects/pythonProject1/Prjoects/Release Radar/to_do'

to_do_list = {}

def main():
    items_from_file()


def items_from_file():
    with open(PATH_TO_TODO_LIST) as file:
        for line in file.readlines():
            release_date, *title = line.split()
            to_do_list[str(title).lower().strip("[]").replace("'", "").replace(",", "")] = str(release_date)
        #for key, value in to_do_list.items():
            #dates.append(value)


def add_to_do(new_event, date):
    with open(PATH_TO_TODO_LIST, "a") as file:
        to_do_list[new_event] = str(date)
        file.write(str(date) + " " + str(new_event) + "\n")


def remove_to_do(event):
    for key, value in to_do_list.items():
        if event in key:
            to_do_list.pop(key)
            rewrite_dict()
            #print(str(early_reminder()))
            #break


def rewrite_dict():
    with open(PATH_TO_TODO_LIST, "w") as file:
        for key, value in to_do_list.items():
            file.writelines(f"{str(value)} {str(key).lower()}\n")

def load_colors():
    with open(PATH_TO_COLORS) as file:
        for item in file:
            to_do_colors.append(int(item))
        # print(str(to_do_colors))


def save_colors(number):
    print(str(number))
    to_do_colors.append(number)
    with open(PATH_TO_COLORS, "a") as file:
        file.write(f"{str(number)}\n")
        
        
def remove_colors(number):
    print(str(number))
    if int(number) in to_do_colors:
        to_do_colors.remove(number)
    with open(PATH_TO_COLORS, "w") as file:
        for item in to_do_colors:
            file.write(f"{str(item).lower()}\n")
        
main()
